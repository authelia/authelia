import{u as g,o as b,r,k as p,bn as h,bs as x,bA as f,bt as C,br as j,bu as L,C as S,aL as w,A as d,I as z,j as e,B as F,L as R,G as n}from"./index.t7Hp6wWA.js";import{L as U}from"./components.LogoutButton.C0OCJm2t.js";import{S as B}from"./components.SwitchUserButton.DDv7xt1b.js";import{u as A}from"./hooks.OpenIDConnect.RqyKR777.js";import{L as D}from"./layouts.Login.DLs9S7Cd.js";import{F as I,T as _}from"./mui.TextField.BMu1N8UI.js";import{B as E}from"./constants.constants.D9Jh23gv.js";import"./layouts.usePortalStyles.CQncL4s1.js";const W=a=>{const{t:u}=g(["consent","settings"]),v=b(),[c,m]=r.useState(""),s=A(),o=p(),l=r.useCallback(t=>{if(t==="")return;const i=new URLSearchParams;i.set(h,t),i.set(x,f),i.set(C,j),o(`${L}${S}${w}`,!0,!0,!0,i)},[o]);return r.useEffect(()=>{if(a.state.authentication_level===d.Unauthenticated){const t=new URLSearchParams;s&&t.set(h,s),t.set(x,f),t.set(C,j),o(z,!0,!0,!0,t)}},[s,o,a.state.authentication_level]),r.useEffect(()=>{!s||a.state.authentication_level===d.Unauthenticated||(m(s),l(s))},[l,a.state.authentication_level,s]),a.state.authentication_level===d.Unauthenticated?e.jsx(F,{children:e.jsx(R,{})}):e.jsx(D,{id:"openid-consent-device-auth-stage",title:u("Confirm the Code"),children:e.jsxs(n,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[e.jsxs(n,{size:{xs:12},sx:{paddingBottom:v.spacing(2)},children:[e.jsx(U,{})," "," | "," ",e.jsx(B,{})]}),e.jsx(n,{size:{xs:12},children:e.jsx(I,{id:"form-consent-openid-device-code-authorization",children:e.jsxs(n,{container:!0,spacing:2,children:[e.jsx(n,{size:{xs:12},children:e.jsx(_,{id:"user-code",label:u("Code"),variant:"outlined",required:!0,value:c,fullWidth:!0,onChange:t=>m(t.target.value),autoCapitalize:"none"})}),e.jsx(n,{size:{xs:12},children:e.jsx(E,{id:"confirm-button",variant:"contained",color:"primary",fullWidth:!0,onClick:()=>l(c),disabled:c==="",children:u("Confirm",{ns:"settings"})})})]})})})]})})};export{W as default};
