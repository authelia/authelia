import{P as L,f as O,u as P,m as E,c as U,g as j,h as g,i as N,k as b,r as s,l as w,n as p,I as h,j as y,T as I}from"./index.BAKKlMLi.js";import{u as M}from"./hooks.Mounted.Bo5u1Dd8.js";import{M as k}from"./layouts.Minimal.B6c8ZNmT.js";import"./layouts.usePortalStyles.DPt9DQ4Y.js";import"./constants.constants.Dc-vougk.js";async function v(e){const r={};return e&&(r.targetURL=e),L(O,r)}const A=function(){const{t:e}=P(),{classes:r}=q(),n=M(),{createErrorNotification:i}=U(),a=j(g),S=N(),c=b(),[T,u]=s.useState(!1),[x,f]=s.useState(!1),[l]=w(),o=s.useRef(null),d=s.useCallback(async()=>{try{const t=await v(a);t!==void 0&&t.safeTargetURL&&f(!0),o.current=setTimeout(()=>{n.current&&u(!0)},2e3)}catch(t){console.error(t),i(e("There was an issue signing out"))}},[i,a,f,u,n,e]);if(s.useEffect(()=>(d(),()=>{o.current!==null&&(clearTimeout(o.current),o.current=null)}),[d]),T)if(a&&x)S(a);else if(l.has(p)){const t=new URLSearchParams;l.forEach((m,R)=>{R!==p?t.set(R,m):t.set(g,m)}),c(h,!1,!1,!1,t)}else c(h);return y.jsx(k,{title:e("Sign out"),children:y.jsxs(I,{className:r.typo,children:[e("You're being signed out and redirected"),"..."]})})},q=E()(e=>({typo:{padding:e.spacing()}}));export{A as default};
