import{u as g,o as b,r,k as p,bm as h,br as x,bz as f,bs as C,bq as j,bt as L,C as z,aK as S,A as d,I as w,j as e,B as F,L as R,G as n}from"./index.aN1zXoDM.js";import{L as U}from"./components.LogoutButton.C_ABg25d.js";import{S as B}from"./components.SwitchUserButton.DEGJUc1D.js";import{u as D}from"./hooks.OpenIDConnect.ByE4cm2n.js";import{L as I}from"./layouts.Login.BWmowQI9.js";import{F as _,T as A}from"./mui.TextField.Cu4Ddjp5.js";import{B as E}from"./constants.constants.BnGwwtlq.js";import"./layouts.usePortalStyles.BJv0J0Xa.js";const O=a=>{const{t:u}=g(["consent","settings"]),v=b(),[c,m]=r.useState(""),s=D(),o=p(),l=r.useCallback(t=>{if(t==="")return;const i=new URLSearchParams;i.set(h,t),i.set(x,f),i.set(C,j),o(`${L}${z}${S}`,!0,!0,!0,i)},[o]);return r.useEffect(()=>{if(a.state.authentication_level===d.Unauthenticated){const t=new URLSearchParams;s&&t.set(h,s),t.set(x,f),t.set(C,j),o(w,!0,!0,!0,t)}},[s,o,a.state.authentication_level]),r.useEffect(()=>{!s||a.state.authentication_level===d.Unauthenticated||(m(s),l(s))},[l,a.state.authentication_level,s]),a.state.authentication_level===d.Unauthenticated?e.jsx(F,{children:e.jsx(R,{})}):e.jsx(I,{id:"openid-consent-device-auth-stage",title:u("Confirm the Code"),children:e.jsxs(n,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[e.jsxs(n,{size:{xs:12},sx:{paddingBottom:v.spacing(2)},children:[e.jsx(U,{})," "," | "," ",e.jsx(B,{})]}),e.jsx(n,{size:{xs:12},children:e.jsx(_,{id:"form-consent-openid-device-code-authorization",children:e.jsxs(n,{container:!0,spacing:2,children:[e.jsx(n,{size:{xs:12},children:e.jsx(A,{id:"user-code",label:u("Code"),variant:"outlined",required:!0,value:c,fullWidth:!0,onChange:t=>m(t.target.value),autoCapitalize:"none"})}),e.jsx(n,{size:{xs:12},children:e.jsx(E,{id:"confirm-button",variant:"contained",color:"primary",fullWidth:!0,onClick:()=>l(c),disabled:c==="",children:u("Confirm",{ns:"settings"})})})]})})})]})})};export{O as default};
