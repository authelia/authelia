import{u as f,c as d,k,r,I as m,j as T,L as R}from"./index.Cnoc1xvA.js";import{a as v}from"./hooks.Revoke.CHD8hBW2.js";import{d as h}from"./reset-password.ResetPassword.DgWUw1_1.js";const E=function(){const{t}=f(),{createSuccessNotification:a,createErrorNotification:o}=d(),s=v(),u=k(),e=r.useRef(null);r.useEffect(()=>()=>{e.current!==null&&(clearTimeout(e.current),e.current=null)},[]);const n=r.useCallback(()=>{e.current!==null&&clearTimeout(e.current),e.current=setTimeout(()=>{u(m,!1),e.current=null},1500)},[u]),c=r.useCallback(async()=>{if(!s)return;const{ok:i,status:l}=await h(s);i?a(t("Successfully revoked the Token")):o(t(l===429?"You have made too many requests":"Failed to revoke the Token")),n()},[o,a,n,s,t]);return r.useEffect(()=>{if(!s){o(t("The Token was not provided")),n();return}c().catch(console.error)},[o,n,c,s,t]),T.jsx(R,{})};export{E as default};
